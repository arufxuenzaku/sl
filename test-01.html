<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Please wait...</title>
	</head>
	<body>
		<script>
			/*<![CDATA[*/
			/* prettier-ignore */
			const xAR={e:(e,t)=>"a"+window.btoa(encodeURIComponent(e+(null==t?"":t))),d:(e,t)=>{try{return decodeURIComponent(window.atob(e.substring(1))).replace(null==t?"":t,"")}catch(e){if(5==DOMException.INVALID_CHARACTER_ERR)return""}},gC:e=>{let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},sC:(e,t,o={})=>{(o={path:"/",...o}).expires instanceof Date&&(o.expires=o.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in o){n+="; "+e;let t=o[e];!0!==t&&(n+="="+t)}document.cookie=n},dC:e=>{xAR.sC(e,"",{"max-age":-1})},sLS:(e,t)=>{localStorage.setItem(e,t)},gLS:e=>localStorage.getItem(e),rLS:e=>{localStorage.removeItem(e)},sSS:(e,t)=>{sessionStorage.setItem(e,t)},gSS:e=>sessionStorage.getItem(e),rSS:e=>{sessionStorage.removeItem(e)},pU:(e,t)=>{void 0===t&&(t=window.location.href);var o=t.match("[?&]"+e+"=([^&]+)");return o?o[1]:null},rdm:e=>e[Math.floor(Math.random()*e.length)],abv:(e,t)=>{var o=Math.sign(Number(e));return 1e9<=Math.abs(Number(e))?o*(Math.abs(Number(e))/1e9).toFixed(3)+"B":1e6<=Math.abs(Number(e))?o*(Math.abs(Number(e))/1e6).toFixed(2)+"M":1e3<=Math.abs(Number(e))?o*(Math.abs(Number(e))/1e3).toFixed(null!=t?t:2)+"K":Math.abs(Number(e))},nwc:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),gAj:e=>{let t=new XMLHttpRequest;try{t=new XMLHttpRequest}catch(e){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return console.warn("Something went wrong!"),!1}}}t.onreadystatechange=function(){let o;4==t.readyState&&(200==t.status?(o=t.responseText,e.success(o)):"function"==typeof e.error&&e.error(t))},t.open("GET",e.url,e.async),t.send()}};

			const idBs = "9159134586996852113";
			const nmSs = "_shortL";
			const getShortL = window.location.href.includes("#?") ? window.location.hash.replace("#?", "") : !1;
			if (getShortL) {
				console.info(`getShortL : ${getShortL}`);

				const rtdbLink = "https://arlokastu-default-rtdb.asia-southeast1.firebasedatabase.app/links/" + getShortL + ".json";
				const rtdbCfg = "https://arlokastu-default-rtdb.asia-southeast1.firebasedatabase.app/config/stu.json";

				const xStep1 = (x) => {
					xAR.gAj({
						url: x,
						async: !0,
						success: (e) => {
							const { domain, blog } = JSON.parse(e),
								obj = JSON.parse(e);
							const domSB = new URL(domain).hostname == new URL(blog).hostname;
							const xdom = domSB ? domain : blog;
							xStep2(rtdbLink, xdom, domSB);
						},
						error: (e) => {
							console.info(JSON.parse(e.response).error);
						},
					});
				};

				const xStep2 = (x, a, b) => {
					if (b) {
						console.info("go to random post");
						xAR.gAj({
							url: x,
							async: !0,
							success: (e) => {
								const { by, ori } = JSON.parse(e),
									obj = { url: getShortL, by, ori };
								xStep3(obj, idBs);
							},
							error: (e) => {
								console.info(JSON.parse(e.response).error);
							},
						});
					} else {
						console.info("url: ", `${a}#?${getShortL}`);
						console.info("pengalihan domain");
					}
				};

				const xStep3 = (x, y) => {
					xAR.gAj({
						url: `https://www.blogger.com/feeds/${y}/posts/summary?alt=json&max-results=20&orderby=updated`,
						async: !0,
						success: (e) => {
							const lsPost = JSON.parse(e).feed.entry;
							if (lsPost) {
								// console.info("lsPost: ", lsPost);
								const xRand = Math.floor(Math.random() * lsPost.length);
								const xPost = lsPost[xRand].link.filter((a) => a.rel == "alternate")[0].href;
								// console.info("xRand: ", xRand);
								console.info("xPost: ", xPost);
								console.info("data: ", x);
								xAR.sSS(nmSs, JSON.stringify(x));
								// window.location.href = xPost;
								alert(`Link ID: ${x.url}`);
								window.location.href = "test-02.html";
							} else {
								console.info("tidak ada postingan...");
							}
						},
						error: (e) => {
							console.info(JSON.parse(e.response).error);

							xAR.sSS(nmSs, JSON.stringify(x));
							// window.location.href = xPost;
							alert(`Link ID: ${x.url}`);
							window.location.href = "test-02.html";
						},
					});
				};

				xStep1(rtdbCfg);
			}
			/*]]>*/
		</script>
	</body>
</html>
